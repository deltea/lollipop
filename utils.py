def clamp(x, lower, upper):
  '''Clamp a value between a lower and upper bound.'''
  return max(lower, min(x, upper))
